<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Media</title>
</head>
<body>
    <h1>Video!</h1>
    <video width="320" height="240" controls>
    <source src="/media/corn.mp4" type="video/mp4">
    Your browser does not support the video tag.
    </video>

    <h1>Audio!</h1>
    <audio controls>
    <source src="/media/corn.mp4" type="audio/mp4"></audio>
    <h1>A wild Gif!</h1>
    <img src="/media/thegif.gif" alt="HTML5 Icon" style="width:128px;height:128px;">
    <h1>Stream!</h1>
    <div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.2493%;">
        <iframe src="//player.twitch.tv/?channel=asmongold&amp;player=facebook&amp;autoplay=false" style="border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;" allowfullscreen allow="autoplay; encrypted-media"></iframe></div>
    <h1>I want to stream myself!</h1>

    <button id="start">Start Stream</button>
    <button id="stop">Stop Stream</button>


    <video autoplay="true" id="videoElement"></video>

    <script>

       var video = document.querySelector("#videoElement");
       var stopStream = document.querySelector("#stop");
       var startStream = document.querySelector("#start");

        stopStream.addEventListener("click", stop, false);
        startStream.addEventListener("click", start, false);

        function stop(e) {
        var stream = video.srcObject;
        var tracks = stream.getTracks();

        for (var i = 0; i < tracks.length; i++) {
            var track = tracks[i];
            track.stop();
        }

        video.srcObject = null;
        }

        function start(e) {

         if (navigator.mediaDevices.getUserMedia) {
        navigator.mediaDevices.getUserMedia({ video: true })
        .then(function (stream) {
            video.srcObject = stream;

        })
        .catch(function (error) {
          console.log("Something went wrong!");
        });
        }
        }
    </script>
</body>
</html>